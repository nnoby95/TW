javascript:function stop(){for(var e=setTimeout("",100),t=0;e>t;t++)clearTimeout(t)}function loadXMLDoc(e){return window.XMLHttpRequest?xhttp=new XMLHttpRequest:xhttp=new ActiveXObject("Microsoft.XMLHTTP"),xhttp.open("GET",e,!1),xhttp.send(),xhttp.responseXML}function vercheck(){try{if("undefined"==typeof CVERZIO)return void naplo("Globál","Verzióellenõrzés nem lehetséges. <a href='http://cncdani2.000webhostapp.com/!Files/SZEM4/SZEM4_VER.js' target='_BLANK'>Kattints ide</a> hogy megnézd mi a legfrisebb változat. A tiéd: "+VERZIO);CVERZIO!=VERZIO&&naplo("Globál","<b>Új verzió jelent meg!</b> Frissítés ajánlott. Jelenlegi: "+VERZIO+". Új: "+CVERZIO)}catch(e){alert2(e)}}function init(){try{if(document.getElementById("production_table"))var e=document.getElementById("production_table");else if(document.getElementById("combined_table"))var e=document.getElementById("combined_table");else if(document.getElementById("buildings_table"))var e=document.getElementById("buildings_table");else{if(!document.getElementById("techs_table"))return alert("Ilyen nézetbe való futtatás nem támogatott. Kísérlet az áttekintés betöltésére...\n\nLaunching from this view is not supported. Trying to load overview..."),document.location.href=document.location.href.replace(/screen=[a-zA-Z]+/g,"screen=overview_villages"),!1;var e=document.getElementById("techs_table")}var t=new RegExp(/[0-9]+(\|)[0-9]+/);if(t.test(e.rows[1].cells[0].textContent))var n=0;else if(t.test(e.rows[1].cells[1].textContent))var n=1;else{if(!t.test(e.rows[1].cells[2].textContent))return alert("Nem találok koordinátákat ebbe a listába.\n\nI can not find coordinates in this view."),!1;var n=2}VILL1ST=e.rows[1].cells[n].getElementsByTagName("a")[0].href;for(var a=1;a<e.rows.length;a++){var l=e.rows[a].cells[n].textContent.match(/[0-9]+(\|)[0-9]+/g);l=l[l.length-1],KTID[a-1]=l+";"+e.rows[a].cells[n].getElementsByTagName("span")[0].getAttribute("data-id").match(/[0-9]+/g)[0]}return document.getElementsByTagName("head")[0].innerHTML+='<style type="text/css">body{ background: #111; } table.fej{ padding:1px;  margin:auto; color: white; border: 1px solid yellow; } table.menuitem{ vertical-align:top; text-align: top; padding: 20px; margin:auto; color: white; border: 1px solid yellow; } table.menuitem td{ padding: 0px; vertical-align:top; }  table{ padding: 0px; margin: auto; color: white;  } table.vis{ color:black; } table.vis td, table.vis th{ padding: 3px 6px 3px 6px;  } #farm_honnan tr td:last-child{font-size:50%;  width:130px;} #farm_hova tr td:last-child{font-size:50%; width:130px;}  textarea{ background-color: #020; color:white; } .divrow{ display: table-row; } .divcell { display: table-cell; text-align: center; vertical-align:top; }  a{ color: white; } img{ border-color: grey; padding:1px; } #naploka a {color:blue;} input[type="button"] {font-size:13px; font-family:Century Gothic,sans-serif;    color:#FFFF77;    background-color:#3366CC;    border-style:ridge;    border-color:#000000;    border-width:3px; }  </style>',document.getElementsByTagName("body")[0].innerHTML='<div id="alert2" style="width: 300px; background-color: #60302b; color: #FFA; position: fixed; left:40%; top:40%; border:3px solid black; font-size: 11pt; padding: 5px; z-index:200; display:none"><div id="alert2head" style="width:100%;cursor:all-scroll; text-align:right; background: rgba(255,255,255,0.1)"><a href=\'javascript: alert2("close");\'>X (Bezár)</a></div><p id="alert2szov"></p></div> <table width="1024px" align="center" class="fej" style="background: #111; background-image:url(\''+pic("wallp.jpg")+'\'); background-size:1024px;"> <tr><td width="70%" id="fejresz" style="vertical-align:middle; margin:auto;"><h1><i></i></h1></td><td id="sugo" height="110px"></td></tr> <tr><td colspan="2" id="menuk" style="">  	<div class="divrow" style="width: 1024px"> 		<span class="divcell" id="kiegs" style="text-align:left; padding-top: 5px;width:774px;"><img src="'+pic("muhely_logo.png")+'" alt="Muhely" title="C&amp;C Mûhely megnyitása" onclick="window.open(\'http://cncdani2.000webhostapp.com/index.php\')"> <img src="'+pic("kh_logo.png")+'" alt="Game" title="Klánháború megnyitása" onclick="window.open(\''+VILL1ST+'\')"> | </span> 		<span class="divcell" style="text-align:right; width:250px"> 			<a href=\'javascript: nyit("naplo");\' onmouseover="sugo(\'Események naplója\')">Napló</a> 			<a href=\'javascript: nyit("debug");\' onmouseover="sugo(\'Hibanapló\')">Debug</a> 			<a href=\'javascript: nyit("hang");\'><img src="'+pic("hang.png")+'" onmouseover="sugo(\'Hangbeállítások\')" alt="hangok"></a> 		</span> 	</div> 	 </td></tr> </table> <p id="content" style="display: inline"></p>',document.getElementById("content").innerHTML='<table class="menuitem" width="1024px" align="center" id="naplo" style="display: none"> <tr><td> <h1 align="center">Napló</h1><br> <br> <table align="center" class="vis" id="naploka"><tr><th onclick=\'rendez("datum2",false,this,"naploka",0)\'  style="cursor: pointer;">Dátum</th><th  onclick=\'rendez("szoveg",false,this,"naploka",1)\' style="cursor: pointer;">Script</th><th  onclick=\'rendez("szoveg",false,this,"naploka",2)\' style="cursor: pointer;">Esemény</th></tr></table> </td></tr> </table>  <table class="menuitem" width="1024px" align="center" id="debug" style="display: none"> <tr><td> <h1 align="center">DeBugger</h1><br> <br> <table align="center" class="vis" id="debugger"><tr><th onclick=\'rendez("datum2",false,this,"debugger",0)\' style="cursor: pointer;">Dátum</th><th onclick=\'rendez("szoveg",false,this,"debugger",1)\' style="cursor: pointer;">Script</th><th onclick=\'rendez("szoveg",false,this,"debugger",2)\' style="cursor: pointer;">Esemény</th></tr></table> </td></tr> </table>  <table class="menuitem" width="1024px" align="center" id="hang" style="display: none"> <tr><td> <p align="center"><audio id="audio1" controls="controls" autoplay="autoplay"><source id="wavhang" src="" type="audio/wav"></audio></p> <h1 align="center">Hangbeállítás</h1><br> <div id="hangok" style="display:table;"> 	<div style="display:table-row;"><div style="display:table-cell; padding:10px;" onmouseover=\'sugo("Ha be van kapcsolva, bot védelem esetén ez a link is megnyitódik, mint figyelmeztetés.")\'><b>Alternatív botriadó? <a href="javascript: altbot()">BEKAPCSOLVA</a><br>Megnyitott URL (egyszer)<br><input type="text" id="altbotURL" size="42" value="http://www.youtube.com/watch?v=k2a30--j37Q"></div>   </div> </div> </td></tr> </table>',document.title="SZEM IV",debug("SZEM 4","Verzió: "+VERZIO),debug("SZEM 4","Prog.azon: "+AZON),debug("SZEM 4","W-Speed: "+SPEED),debug("SZEM 4","U-Speed: "+UNIT_S),!0}catch(r){return alert("Hiba indításkor:\n\nError at starting:\n"+r),!1}}function pic(e){return"http://cncdani2.000webhostapp.com/!Files/SZEM4/"+e}function altbot(){try{return ALTBOT=!ALTBOT,void(ALTBOT?(document.getElementById("altbotURL").parentNode.getElementsByTagName("a")[0].innerHTML="BEKAPCSOLVA",document.getElementById("altbotURL").removeAttribute("disabled")):(document.getElementById("altbotURL").parentNode.getElementsByTagName("a")[0].innerHTML="KIKAPCSOLVA",document.getElementById("altbotURL").setAttribute("disabled","true")))}catch(e){alert(e)}}function soundVolume(e){document.getElementById("audio1").volume=e}function playSound(e){try{var t=document.getElementsByName(e)[0];if(void 0==t)return void debug("hanghiba","Nem definiált hang: "+e);if(0==t.checked)return;var n="http://cncdani2.000webhostapp.com/!Files/SZEM4/"+e+".wav";document.getElementById("wavhang").src=n,document.getElementById("audio1").load(),setTimeout('if (document.getElementById("audio1").paused) document.getElementById("audio1").play()',666)}catch(a){alert2(a)}}function validate(e){var t=e||window.event,n=t.keyCode||t.which;n=String.fromCharCode(n);var a=/[0-9]|\./;a.test(n)||(t.returnValue=!1,t.preventDefault&&t.preventDefault())}function shorttest(){try{var e="",t="",n=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input");""==n[0].value&&(e+="Termelés/óra értéke üres. Legalább egy 0 szerepeljen!\n"),parseInt(n[0].value,10)<50&&(t+="Termelés/óra értéke nagyon alacsony. \n"),""==n[1].value&&(e+="Max táv/óra: Üres érték. \n"),""==n[2].value&&(e+="Max táv/perc: Üres érték. \n"),0==parseInt(n[1].value,10)&&parseInt(n[2].value,10)<1&&(e+="A jelenleg megadott max távolság 0!\n"),0==parseInt(n[1].value,10)&&parseInt(n[2].value,10)<40&&(t+="A jelenleg megadott max távolság nagyon rövid!\n"),""==n[3].value&&(e+="A határszám értéke üres. Minimum megengedett értéke: 100.\n"),parseInt(n[3].value,10)<100&&(e+="A határszám értéke túl alacsony. Minimum megengedett értéke: 100.\n"),""==n[4].value&&(e+="Ha nem szeretnél kémet küldeni, írj be 0-t.\n"),parseInt(n[4].value,10)>3&&(t+="3-nál több kém egyik szerveren sem szükséges. Javasolt: 1 vagy 3.\n"),n[5].checked&&0==parseInt(n[4].value,10)&&(t+="Kényszeríted a kémek küldését, de a küldendõ kém értékére 0 van megadva!\n"),n[6].checked&&0==parseInt(n[4].value,10)&&(t+="Kezdõ kémtámadást szeretnél, de a küldendõ kém értékére 0 van megadva!\n"),""==n[7].value&&(e+="Ha minimum limit nélkül szeretnéd egységeid küldeni, írj be 0-t.\n");var a=parseInt(n[3].value,10),l=parseInt(n[7].value,10);return Math.ceil(a/20)<l&&(e+="A minimum sereg/falu legalább 20x-osa kell hogy legyen a határszám. Javaslatok: Minimum sereg "+Math.ceil(a/20)+", vagy Határszám: "+Math.ceil(20*l)+"\n"),""==n[8].value&&(e+="A legkevesebb pihenõ idõ: 1 perc, ne hagyd üresen.\n"),parseInt(n[8].value,10)<1&&(e+="A legkevesebb pihenõ idõ: 1 perc.\n"),parseInt(n[8].value,10)>150&&(e+="150 percnél több pihenõ idõt nem lehet megadni.\n"),""==n[9].value&&(e+="A leggyorsabb ciklusidõ: 200 ms, ne hagyd üresen.\n"),parseInt(n[9].value,10)<200&&(e+="A leggyorsabb ciklusidõ: 200 ms\n"),parseInt(n[9].value,10)>3e3&&(e+="3000 ms-nél több ciklusidõ felesleges, és feltûnõ. Írj be 3000 alatti értéket.\n"),parseInt(n[10].value,10)<20&&(e+="Raktár telítettségi értéke túl alacsony, így vélhetõleg sehonnan se fog fosztani."),""==e||FARM_PAUSE||szunet("farm",document.getElementsByName("farm")[0]),FARM_PAUSE&&(t+="A farmoló jelenleg meg van állítva!"),""!=e?(alert2("<b>Egy vagy több beállítási hiba miatt nem indítható a farmoló! Javítsa, majd indítsa el a kiegészítõt.</b><br><br>"+e),!1):(alert2(""==t?"close":"Javaslatok:\n"+t),!0)}catch(r){alert2("Hiba :(\n"+r)}}function sugo(e){var t=e.length;t=Math.round(1e3*t/23),"undefined"!=SUGOORA&&clearTimeout(SUGOORA),document.getElementById("sugo").innerHTML=e,""!=e&&(SUGOORA=setTimeout('sugo("")',t))}function nyit(e){try{for(var t=document.getElementById("content").childNodes,n="",a=0;a<t.length;a++)"TABLE"==t[a].nodeName.toUpperCase()&&(n=t[a].getAttribute("id"),$("#"+n).fadeOut(300));var l=new RegExp('"'+e+'"');for(t=document.getElementById("menuk").getElementsByTagName("a"),a=0;a<t.length;a++)t[a].style.padding="3px",l.test(t[a].getAttribute("href"))?t[a].style.backgroundColor="#000000":t[a].style.backgroundColor="transparent";setTimeout(function(){$("#"+e).fadeIn(300)},300)}catch(r){alert(r)}}function alert2(e){return e+="","close"==e?void $("#alert2").hide():(e=e.replace("\n","<br>"),document.getElementById("alert2szov").innerHTML="<b>Üzenet:</b><br>"+e,void $("#alert2").show())}function naplo(e,t){var n=new Date,a=n.getMinutes(),l=n.getSeconds();10>a&&(a="0"+a),10>l&&(l="0"+l);var r=new Array("Jan","Febr","March","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"),o=document.getElementById("naploka"),s=o.insertRow(1),i=s.insertCell(0),c=s.insertCell(1),d=s.insertCell(2);i.innerHTML=r[n.getMonth()]+" "+n.getDate()+", "+n.getHours()+":"+a+":"+l,c.innerHTML=e,d.innerHTML=t,playSound("naplobejegyzes")}function debug(e,t){var n=new Date,a=n.getMinutes(),l=n.getSeconds();10>a&&(a="0"+a),10>l&&(l="0"+l);var r=new Array("Jan","Febr","March","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"),o=document.getElementById("debugger"),s=o.insertRow(1),i=s.insertCell(0),c=s.insertCell(1),d=s.insertCell(2);i.innerHTML=r[n.getMonth()]+" "+n.getDate()+", "+n.getHours()+":"+a+":"+l,c.innerHTML=e,d.innerHTML=t}function ujkieg(e,t,n){return document.getElementById(t)?!1:(document.getElementById("kiegs").innerHTML+="<img onclick='szunet(\""+e+'",this)\' name="'+e+'" onmouseover=\'sugo("Az érintett scriptet tudod megállítani/elindítani.")\' src="'+pic("play.png")+'" alt="Stop" title="Klikk a szüneteltetéshez"> <a href=\'javascript: nyit("'+e+"\");'>"+t.toUpperCase()+"</a> ",document.getElementById("content").innerHTML+='<table class="menuitem" width="1024px" align="center" id="'+e+'" style="display: none">'+n+"</table>",!0)}function ujkieg_hang(e,t){try{var n=t.split(";")}catch(a){var n=t}var l=document.getElementById("hangok").getElementsByTagName("div")[0],r=document.createElement("div");r.setAttribute("style","display:table-cell; padding:10px;");for(var o="<h3>"+e+"</h3>",s=0;s<n.length;s++)o+='<input type="checkbox" name="'+n[s]+'" checked> <a href="javascript: playSound(\''+n[s]+"');\">"+n[s]+"</a><br>";r.innerHTML=o,l.appendChild(r)}function szunet(e,t){try{switch(e){case"farm":FARM_PAUSE=!FARM_PAUSE;var n=FARM_PAUSE;break;case"vije":VIJE_PAUSE=!VIJE_PAUSE;var n=VIJE_PAUSE;break;case"idtamad":alert2("Ezt a script nem állítható meg, mivel nem igényel semmilyen erõforrást.<br>Ha a hangot szeretnéd kikapcsolni, megteheted azt a hangbeállításoknál.");break;case"epit":EPIT_PAUSE=!EPIT_PAUSE;var n=EPIT_PAUSE;break;case"adatok":ADAT_PAUSE=!ADAT_PAUSE;var n=ADAT_PAUSE;break;default:return void alert2("Sikertelen script megállatás. Nincs ilyen alscript: "+e)}n?(t.src=pic("pause.png"),t.alt="Start",t.title="Klikk a folytatáshoz"):(t.src=pic("play.png"),t.alt="Stop",t.title="Klikk a szüneteltetéshez"),"farm"==e&&shorttest()}catch(a){alert2("Hiba:\n"+a)}}function distCalc(e,t){return e[0]=parseInt(e[0]),e[1]=parseInt(e[1]),t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),Math.abs(Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)))}function rendez(e,t,n,a,l){try{var r=document.getElementById(a).getElementsByTagName("tbody")[0],o=document.getElementById(a).rows;if(o.length<2)return;for(var s=new Array,i=new Array,c=new Array,d=($.trim(o[1].cells[l].innerText).replace(" ",""),1);d<o.length;d++){switch(e){case"szoveg":s[d-1]=o[d].cells[l].innerText;break;case"szam":s[d-1]=parseInt(o[d].cells[l].innerText.replace(".",""));break;case"datum":""==o[d].cells[l].innerText?s[d-1]=new Date:s[d-1]=new Date(o[d].cells[l].innerText);break;case"datum2":var m=new Array("Jan","Febr","March","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"),u=new Date,g=o[d].cells[l].innerText;u.setMonth(m.indexOf(g.split(" ")[0])),u.setDate(g.split(" ")[1].replace(",","")),u.setHours(g.split(" ")[2].split(":")[0]),u.setMinutes(g.split(" ")[2].split(":")[1]),u.setSeconds(g.split(" ")[2].split(":")[2]),s[d-1]=u;break;case"lista":s[d-1]=o[d].cells[l].getElementsByTagName("select")[0].value;break;default:throw"Nem értelmezhetõ mi szerint kéne rendezni."}i[d-1]=o[d],c[d-1]=d-1}for(var d=0;d<s.length;d++){for(var p=d,v=d;v<s.length;v++)t?s[v]>s[p]&&(p=v):s[v]<s[p]&&(p=v);var y=s[d];s[d]=s[p],s[p]=y;var y=c[d];c[d]=c[p],c[p]=y}for(var d=o.length-1;d>0;d--)r.deleteRow(d);for(var d=0;d<s.length;d++)r.appendChild(i[c[d]]);return void n.setAttribute("onclick",'rendez("'+e+'",'+!t+',this,"'+a+'",'+l+")")}catch(h){alert2("Hiba rendezéskor:\n"+h)}}function koordTOid(e){for(var t=0;t<KTID.length;t++)if(KTID[t].split(";")[0]==e)return KTID[t].split(";")[1];return 0}function rovidit(e){var t="";switch(e){case"egysegek":for(var n=0;n<UNITS.length;n++)t+='<img style="width:15px" src="/graphic/unit/unit_'+UNITS[n]+'.png"><input type="checkbox" onclick="szem4_farmolo_multiclick('+n+",'honnan',this.checked)\">";break;default:t=""}return t}function getServerTime(e){var t=new Date;return t}function maplink(e){return'<a href="'+VILL1ST.replace("screen=overview","x="+e.split("|")[0]+"&y="+e.split("|")[1]+"&screen=map")+'" target="_BLANK">'+e+"</a>"}function multipricer(e,t,n){try{if(void 0==e)return;if(!document.getElementById("farm_multi_"+e).checked)return;for(var a=document.getElementById("farm_"+e).rows,l=a.length-1;l>0;l--)if("none"!=a[l].style.display)switch(t){case"del":a[l].parentNode.removeChild(a[l]);break;case"urit":"honnan"==e?a[l].cells[2].innerHTML="":a[l].cells[5].innerHTML="";break;case"mod":a[l].cells[3].innerHTML=n;break;case"htor":a[l].cells[0].style.backgroundColor="#f4e4bc";break;case"hcser":a[l].cells[2].style.backgroundColor=n}}catch(r){}}function sortorol(e,t){var n=e.parentNode;n.parentNode.removeChild(n),multipricer(t,"del")}function urit(e,t){e.innerHTML="",multipricer(t,"urit")}function modosit_szam(e){var t=prompt("Új érték?");null!=t&&(t=t.replace(/[^0-9]/g,""),""!=t&&(e.innerHTML=t,multipricer("hova","mod",t)))}function hattertolor(e){e.style.backgroundColor="#f4e4bc",multipricer("hova","htor")}function hattercsere(e){var t="#00FF00";("rgb(0, 255, 0)"==e.style.backgroundColor||"#00FF00"==e.style.backgroundColor)&&(t="#f4e4bc"),e.style.backgroundColor=t,multipricer("hova","hcser",t)}function BotvedelemBe(){try{BOT_VOL+=.2,BOT_VOL>1&&(BOT_VOL=1),soundVolume(BOT_VOL),playSound("bot2"),BOT=!0,alert2('BOT VÉDELEM!!!<br>Írd be a kódot, és kattints ide lentre!<br><br><a href="javascript: BotvedelemKi()">Beírtam a kódot, mehet tovább!</a>')}catch(e){debug("BotvedelemBe()",e)}ALTBOT2||(window.open(document.getElementById("altbotURL").value),ALTBOT2=!0),BOTORA=setTimeout("BotvedelemBe()",1500)}function BotvedelemKi(){BOT=!1,ALTBOT2=!1,BOT_VOL=0,document.getElementById("audio1").pause,alert2("OK"),clearTimeout(BOTORA);try{FARM_REF.location.reload()}catch(e){}try{VIJE_REF1.location.reload()}catch(e){}try{VIJE_REF2.location.reload()}catch(e){}try{IDTAMAD_REF.location.reload()}catch(e){}try{EPIT_REF.location.reload()}catch(e){}}function add_farmolo(){try{var e=document.getElementById("farm_opts"),t=e.rows[1].cells[0].getElementsByTagName("input")[0].value;if(""==t)return;var n=new RegExp(/[0-9]+(\|)[0-9]+/);if(!n.test(t))throw"Nincs érvényes koordináta megadva";t=t.match(/[0-9]+(\|)[0-9]+/g);for(var a=!1,l=0;l<e.rows[2].cells[0].getElementsByTagName("input").length;l++)if(1==e.rows[2].cells[0].getElementsByTagName("input")[l].checked){a=!0;break}if(!a&&!confirm("Nincs semmilyen egység megadva, amit küldhetnék. Folytatod?\n(késõbb ez a megadás módosítható)"))return;for(var r="",o=0;o<t.length;o++){for(var s=document.getElementById("farm_honnan"),i=document.getElementById("farm_hova"),l=1;l<s.rows.length;l++)if(s.rows[l].cells[0].textContent==t[o]){r+=t[o]+", ",t[o]="";break}if(""!=t[o]){for(var l=1;l<i.rows.length;l++)if(i.rows[l].cells[0].textContent==t[o]){r+=t[o]+", ",t[o]="";break}if(""!=t[o])if(0!=koordTOid(t[o])){var i=s.insertRow(-1),c=i.insertCell(0);c.innerHTML=t[o],c.setAttribute("ondblclick",'sortorol(this,"honnan")');var c=i.insertCell(1);c.innerHTML=rovidit("egysegek");for(var l=0;l<c.getElementsByTagName("input").length;l++)1==e.rows[2].cells[0].getElementsByTagName("input")[l].checked&&(c.getElementsByTagName("input")[l].checked=!0);var c=i.insertCell(2);c.innerHTML="",c.setAttribute("ondblclick",'urit(this,"honnan")')}else r+=t[o]+", ",t[o]=""}}return e.rows[1].cells[0].getElementsByTagName("input")[0].value="",void(""!=r&&alert2("Dupla falumegadások, esetleg nem lévõ saját faluk kiszûrve:\n"+r))}catch(d){alert(d)}}function add_farmolando(){try{var e=document.getElementById("farm_opts"),t=e.rows[1].cells[1].getElementsByTagName("input")[0].value;if(""==t)return;var n=new RegExp(/[0-9]+(\|)[0-9]+/);if(!n.test(t))throw"Nincs érvényes koordináta megadva";t=t.match(/[0-9]+(\|)[0-9]+/g),e.rows[2].cells[1].getElementsByTagName("input")[3].value=e.rows[2].cells[1].getElementsByTagName("input")[3].value.replace(/[^0-9]/g,""),""==e.rows[2].cells[1].getElementsByTagName("input")[3].value&&(e.rows[2].cells[1].getElementsByTagName("input")[3].value=3600);for(var a="",l=0;l<t.length;l++){for(var r=document.getElementById("farm_hova"),o=document.getElementById("farm_honnan"),s=1;s<r.rows.length;s++)if(r.rows[s].cells[0].textContent==t[l]){a+=t[l]+", ",t[l]="";break}if(""!=t[l]){for(var s=1;s<o.rows.length;s++)if(o.rows[s].cells[0].textContent==t[l]){a+=t[l]+", ",t[l]="";break}if(""!=t[l]){var o=r.insertRow(-1),i=o.insertCell(0);i.innerHTML=t[l],i.setAttribute("ondblclick","hattertolor(this)"),i.setAttribute("data-age","0");var i=o.insertCell(1);i.innerHTML="",i.setAttribute("ondblclick",'sortorol(this,"hova")');var i=o.insertCell(2);i.innerHTML="0",i.setAttribute("ondblclick","hattercsere(this)");var i=o.insertCell(3);i.innerHTML=e.rows[2].cells[1].getElementsByTagName("input")[3].value,i.setAttribute("ondblclick","modosit_szam(this)");var i=o.insertCell(4);i.innerHTML='<input type="checkbox" onclick="szem4_farmolo_multiclick(0,\'hova\',this.checked)">';var i=o.insertCell(5);i.innerHTML="",i.setAttribute("ondblclick",'urit(this,"hova")')}}}return e.rows[1].cells[1].getElementsByTagName("input")[0].value="",void(""!=a&&alert2("Dupla falumegadások kiszûrve:\n"+a))}catch(c){alert(c)}}function szem4_farmolo_updater(){try{alapszam=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[0].value,""!=alapszam?alapszam=parseInt(alapszam):alapszam=1e3;for(var e=document.getElementById("farm_hova").rows,t=0,n=1;n<e.length;n++)try{if("red"==e[n].cells[0].style.backgroundColor)continue;if(""==e[n].cells[1].textContent)t=alapszam;else{for(var a=e[n].cells[1].textContent.split(","),l=0;l<a.length;l++)a[l]=parseInt(a[l],10);t=(TERMELES[a[0]]+TERMELES[a[1]]+TERMELES[a[2]])*SPEED}t=Math.round(t/60);var r=parseInt(e[n].cells[3].innerHTML)+t;if(isNaN(r)){debug("Farmoló","Autófrissítõ anomália: "+e[n].cells[0].innerHTML+"falunál: "+e[n].cells[3].innerHTML+"+"+t+"=Nem szám!");continue}r>1e6&&(r=1e6);var o=parseInt(e[n].cells[0].getAttribute("data-age"),10);if(o++,e[n].cells[0].setAttribute("data-age",o),o>120){var s=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value;r>2*s&&(r=2*s)}e[n].cells[3].innerHTML=r}catch(i){debug("Farmoló","Hiba az autofrissítõnél: "+i)}return void setTimeout("szem4_farmolo_updater()",6e4)}catch(i){debug("Farmoló","Hiba az autofrissítõnél: "+i),setTimeout("szem4_farmolo_updater()",6e4)}}function isPageLoaded(e,t,n){try{if(e.closed)return!1;if(e.document.getElementById("bot_check")||"Bot védelem"==e.document.title)return naplo("Globális","Bot védelem aktív!!!"),document.getElementById("audio1").volume=.2,BotvedelemBe(),!1;if(e.document.location.href.indexOf("sid_wrong")>-1)return naplo("Globális","Kijelentkezett fiók. Jelentkezzen be újra, vagy állítsa le a programot."),BotvedelemBe(),!1;if(n.indexOf("not ")>-1)var a=!0;else var a=!1;if(t>-1&&e.game_data.village.id!=t)return!1;if(e.document.getElementById("serverTime").innerHTML.length>4)if(a){if(-1==e.document.location.href.indexOf(n.split(" ")[1]))return!0}else if(e.document.location.href.indexOf(n)>-1)return!0}catch(l){return!1}return!1}function szem4_farmolo_multiclick(e,t,n){try{if(!document.getElementById("farm_multi_"+t).checked)return;var a=document.getElementById("farm_"+t).rows;t="honnan"==t?1:4;for(var l=1;l<a.length;l++)"none"!=a[l].style.display&&(a[l].cells[t].getElementsByTagName("input")[e].checked=n);return}catch(r){alert2("Hiba: "+t+"-"+e+"\n"+r)}}function szem4_farmolo_csoport(e){try{var t=prompt("Faluszûrõ\nAdd meg azon faluk koordinátáit, melyeket a listában szeretnél látni. A többi falu csupán láthatatlan lesz, de tovább folyik a használata.\nSpeciális lehetõségid:\n-1: Csupán ezt az értéket adva meg megfordítódik a jelenlegi lista láthatósága (negáció)\n-...: Ha az elsõ karakter egy - jel, akkor a felsorolt faluk kivonódnak a jelenlegi listából (különbség)\n+...: Ha az elsõ karaktered +, akkor a felsorolt faluk hozzáadódnak a listához (unió)\nÜresen leokézva az összes falu láthatóvá válik");if(null==t)return;var n="norm";"-1"==t?n="negalt":("-"==t[0]&&(n="kulonbseg"),"+"==t[0]&&(n="unio")),""==t&&(n="all"),"S"==t&&(n="yellow"),t=t.match(/[0-9]+(\|)[0-9]+/g);for(var a,l=!1,r=document.getElementById("farm_"+e).rows,o=1;o<r.length;o++){switch(l=!1,a=r[o].cells[0].textContent,n){case"norm":t.indexOf(a)>-1&&(l=!0);break;case"negalt":"none"==r[o].style.display&&(l=!0);break;case"kulonbseg":"none"!=r[o].style.display&&-1==t.indexOf(a)&&(l=!0);break;case"unio":("none"!=r[o].style.display||t.indexOf(a)>-1)&&(l=!0);break;case"all":l=!0;break;case"yellow":"yellow"==r[o].cells[0].style.backgroundColor&&(l=!0)}l?r[o].setAttribute("style","display:line"):r[o].setAttribute("style","display:none")}}catch(s){alert2("Hiba: \n"+s)}}function isgyalog(e){try{var t=0,n=document.getElementById("farm_honnan").rows[e].cells[1].getElementsByTagName("input");return(n[5].checked||n[6].checked||n[7].checked)&&(t=1),(n[0].checked||n[1].checked||n[2].checked||n[3].checked)&&(t=1==t?2:3),t}catch(a){debug("isgyalog()",a)}}function getLastDate(e,t){var n=e.document.getElementById("content_value").getElementsByTagName("table");if(n=n[n.length-1].rows,!n[1].cells[0].getElementsByTagName("img")[0])return!1;for(var a,l,r,o,s=[e.game_data.village.x,e.game_data.village.y],i=1;i<n.length;i++)if(!(n[i].cells[0].getElementsByTagName("img")[0].src.indexOf("support")>-1)){if(a=n[i].cells[0].innerText.match(/[0-9]+(\|)[0-9]+/g),a=a[a.length-1],l=new Date,o=n[i].cells[2].innerText.split(":"),o[0]=parseInt(o[0],10),isNaN(o[0])||o[0]>23)return console.info("Nem jó",o),n[i].cells[2].innerText;if(o[1]=parseInt(o[1],10),isNaN(o[1])||o[1]>59)return console.info("Nem jó",o),n[i].cells[2].innerText;if(o[2]=parseInt(o[2],10),isNaN(o[2])||o[2]>59)return console.info("Nem jó",o),n[i].cells[2].innerText;l.setSeconds(l.getSeconds()+3600*o[0]+60*o[1]+o[2]),-1==n[i].cells[0].getElementsByTagName("img")[0].src.indexOf("return")&&l.setSeconds(l.getSeconds()+60*t*distCalc(s,a.split("|"))),(!r||r>l)&&(r=l)}return r}function szem4_farmolo_1kereso(){try{var e,t=document.getElementById("farm_hova").rows,n=document.getElementById("farm_honnan").rows,a=new Array,l=new Date;if(1==t.length||1==n.length)return"zero";for(var r=1;r<t.length;r++)if("red"!=t[r].cells[0].style.backgroundColor&&!(parseInt(t[r].cells[3].textContent)<parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value)))for(var o="",s=1;s<n.length;s++){if(e=0,""!=n[s].cells[2].innerHTML){var i=new Date(n[s].cells[2].textContent);if(i instanceof Date&&!isNaN(i.valueOf())||(n[s].cells[2].innerHTML="",i=new Date),l>i)n[s].cells[2].innerHTML="",o="all";else{if("yellow"!=n[s].cells[2].style.backgroundColor)continue;o="gyalog"}}else o="all";var c=isgyalog(s);0!=c&&(1!=c||"gyalog"!=o)&&(1==c&&"all"==o&&(e=10),2==c&&"gyalog"==o&&(e=18),2==c&&"all"==o&&(e=10),3==c&&(e=18,o="gyalog"),0!=e?(e=e*(1/SPEED)*(1/UNIT_S),e*=distCalc(t[r].cells[0].textContent.split("|"),n[s].cells[0].textContent.split("|")),(0==a.length||a[0]>e)&&(a=[e,o,n[s].cells[0].textContent,t[r].cells[0].textContent])):debug("Farmoló","Anomália lépett fel farmkereséskor."))}if(0==a.length)return"";var d=60*parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[1].value)+parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[2].value);return a[0]>d?"":a}catch(m){debug("szem4_farmolo_1kereso()",m)}return""}function szem4_farmolo_2illeszto(e){try{try{TamadUpdt(FARM_REF)}catch(t){}var n=FARM_REF.document.forms.units;if(n.x.value=e[3].split("|")[0],n.y.value=e[3].split("|")[1],void 0==n.input.value)throw"Nem töltött be az oldal?"+n.input.innerHTML;for(var a=document.getElementById("farm_honnan").rows,l=1;l<a.length;l++)if(a[l].cells[0].textContent==e[2]){a=a[l].cells[1].getElementsByTagName("input");break}for(var r=document.getElementById("farm_hova").rows,l=1;l<r.length;l++)if(r[l].cells[0].textContent==e[3]){r=r[l];break}for(var o=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input"),s=new Array,l=0;l<UNITS.length;l++)try{a[l].checked?s[l]=parseInt(FARM_REF.document.getElementById("unit_input_"+UNITS[l]).parentNode.children[2].textContent.match(/[0-9]+/g)[0]):4==l&&o[5].checked?s[l]=parseInt(FARM_REF.document.getElementById("unit_input_"+UNITS[l]).parentNode.children[2].textContent.match(/[0-9]+/g)[0]):s[l]=0}catch(t){s[l]=0}var i=10;(a[4].checked||o[5].checked)&&s[4]>parseInt(o[4].value)&&(n.spy.value=o[4].value);var c=parseInt(r.cells[3].textContent,10),d="",m=0,u=0;if("all"==e[1])for(var l=5;l<UNITS.length;l++)try{if(c>TEHER[l]){var g=Math.ceil(c/TEHER[l]),p=s[l];if(g>p)var v=p;else var v=g;c-=v*TEHER[l],m+=v*TEHER[l],d+=UNITS[l]+":"+v+"; ",FARM_REF.document.getElementById("unit_input_"+UNITS[l]).value=v,u+=TANYA[l]*v,i<E_SEB[l]&&(i=E_SEB[l])}}catch(t){}else for(var l=0;4>l;l++)try{if(c>TEHER[l]){var g=Math.ceil(c/TEHER[l]),p=s[l];if(g>p)var v=p;else var v=g;c-=v*TEHER[l],m+=v*TEHER[l],d+=UNITS[l]+":"+v+"; ",FARM_REF.document.getElementById("unit_input_"+UNITS[l]).value=v,u+=TANYA[l]*v,i<E_SEB[l]&&(i=E_SEB[l])}}catch(t){}c>parseInt(o[3].value,10)&&(n.spy.value=0);var y=!1;if(o[5].checked&&s[4]<parseInt(o[4].value))ezt=e[1]+"|semmi";else{var h=(parseInt(FARM_REF.document.getElementById("wood").textContent)+parseInt(FARM_REF.document.getElementById("stone").textContent)+parseInt(FARM_REF.document.getElementById("iron").textContent))/(3*parseInt(FARM_REF.document.getElementById("storage").textContent));Math.round(100*h)>parseInt(o[10].value)?ezt=e[1]+"|semmi":u>parseInt(o[7].value)?(o[6].checked&&("rgb(213, 188, 244)"==r.cells[1].style.backgroundColor&&(n.spy.value=0),""!=r.cells[1].innerHTML&&(n.spy.value=0)),parseInt(n.spy.value,10)>0&&""==r.cells[1].innerHTML&&(y=!0),m-100>parseInt(r.cells[3].textContent,10)&&debug("Farmolo()","<b>ERROR: TOO MANY UNITS</b>"),n.attack.click(),ezt=e[1]):ezt=e[1]+"|semmi"}return console.info("Beillesztve",[c,ezt,e[2],e[3],i,y,m]),[c,ezt,e[2],e[3],i,y,m]}catch(t){return debug("Illeszto()",t),FARM_LEPES=0,""}}function szem4_farmolo_3egyeztet(e){try{for(var t=document.getElementById("farm_honnan").rows,n=1;n<t.length;n++)if(t[n].cells[0].textContent==e[2]){t=t[n];break}for(var a=document.getElementById("farm_hova").rows,n=1;n<a.length;n++)if(a[n].cells[0].textContent==e[3]){a=a[n];break}try{if("error_box"==FARM_REF.document.getElementById("content_value").getElementsByTagName("div")[0].getAttribute("class"))return naplo("Farmoló","Hiba "+e[3]+" farmolásánál: "+FARM_REF.document.getElementById("content_value").getElementsByTagName("div")[0].textContent+". Tovább nem támadom"),a.cells[0].style.backgroundColor="red",FARM_LEPES=0,""}catch(l){}try{if(FARM_REF.document.getElementById("content_value").getElementsByTagName("table")[0].rows[2].cells[1].getElementsByTagName("a")[0].href.indexOf("info_player")>-1&&!a.cells[4].getElementsByTagName("input")[0].checked)return naplo("Farmoló","Játékos "+maplink(e[3])+" helyen: "+FARM_REF.document.getElementById("content_value").getElementsByTagName("table")[0].rows[2].cells[1].innerHTML.replace("href",'target="_BLANK" href')+". Tovább nem támadom"),a.cells[0].style.backgroundColor="red",FARM_LEPES=0,""}catch(l){}try{var r=FARM_REF.document.getElementById("content_value").getElementsByTagName("table")[0].rows;r=parseInt(r[r.length-1].cells[0].textContent.replace(/[^0-9]+/g,"")),e[6]!=r&&debug("farm3",'Valódi teherbírás nem egyezik a kiszámolttal. Hiba, ha nincs teherbírást módosító "eszköz".')}catch(l){debug("farm3","Teherbírás megállapítás hiba: "+l)}if(hatszam=parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value,10),-1==e[1].indexOf("semmi")||e[6]>2*hatszam){var o=document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input");if(e[5]&&(a.cells[1].style.backgroundColor="rgb(213, 188, 244)"),FARM_REF.document.forms[0].submit.click(),a.cells[0].setAttribute("data-age",0),e[0]>parseInt(o[3].value)){var s=getServerTime(FARM_REF),i=distCalc(e[2].split("|"),e[3].split("|"));i=i*(1/SPEED)*(1/UNIT_S)*e[4],i=Math.round(i),s.setMinutes(s.getMinutes()+i),a.cells[5].innerHTML=s}}if(a.cells[3].innerHTML=e[0],"all"==e[1])var c=!0;else var c=!1;var d=!1;return e[0]>25&&(d=!0),
[d,c,e[2],e[3]]}catch(l){debug("szem4_farmolo_3egyeztet()",l),FARM_LEPES=0}}function szem4_farmolo_4visszaell(e){try{for(var t=document.getElementById("farm_honnan").rows,n=1;n<t.length;n++)if(t[n].cells[0].textContent==e[2]){t=t[n];break}if("boolean"==typeof e[1])var a=e[1];else if(e[1].indexOf("all")>-1)var a=!0;else var a=!1;if(a){for(var l=!1,n=0;3>n;n++)if(t.cells[1].getElementsByTagName("input")[n].checked&&FARM_REF.document.getElementById("unit_input_"+UNITS[n])&&parseInt(FARM_REF.document.getElementById("unit_input_"+UNITS[n]).parentNode.children[2].textContent.match(/[0-9]+/g)[0])>5){l=!0;break}l||(a=!1)}for(var r=t.cells[1].getElementsByTagName("input"),o=22,n=0;n<r.length;n++)4!=n&&r[n].checked&&E_SEB[n]<o&&(o=E_SEB[n]);o=o*(1/SPEED)*(1/UNIT_S);var s=getLastDate(FARM_REF,o);if(!(s instanceof Date)||isNaN(s.valueOf())){debug("Advanced error at #1",s+" - Fastest: "+o),naplo("Farmolo",'<a target="_BLANK" href=\''+VILL1ST.replace(/village=[0-9]+/,"village="+koordTOid(e[2])).replace("screen=overview","screen=place")+"'>"+e[2]+"</a> faluban nincs egység, vagy túltelített a raktár!."),c=!1;var i=new Date;return i.setMinutes(i.getMinutes()+30*SPEED),void(t.cells[2].innerHTML=i)}var c=!0;s&&!a&&(c=!1),s||a?t.cells[0].style.backgroundColor="#f4e4bc":(naplo("Farmolo",'<a target="_BLANK" href=\''+VILL1ST.replace(/village=[0-9]+/,"village="+koordTOid(e[2])).replace("screen=overview","screen=place")+"'>"+e[2]+"</a> faluban nincs egység, vagy túltelített a raktár!."),c=!1);var i=new Date;c?t.cells[2].style.backgroundColor="yellow":t.cells[2].style.backgroundColor="#f4e4bc",s?(s.setSeconds(s.getSeconds()+10),t.cells[2].innerHTML=s):(i.setMinutes(i.getMinutes()+30*SPEED),t.cells[2].innerHTML=i)}catch(d){return void debug("szem4_farmolo_4visszaell()",d)}}function szem4_farmolo_motor(){try{var e=500;if(e=parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[9].value,10),BOT||FARM_PAUSE)e=5e3;else switch(FARM_HIBA>10&&(FARM_HIBA=0,FARM_GHIBA++,FARM_GHIBA>3&&(FARM_GHIBA>5&&(naplo("Globál","Nincs internet? Folyamatos hiba farmolónál"),e=6e4,playSound("bot2")),FARM_REF.close()),FARM_LEPES=0),FARM_LEPES){case 0:if(PM1=szem4_farmolo_1kereso(),"zero"==PM1){e=1e4;break}if(""==PM1){e=6e4*parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[8].value,10);break}FARM_REF=window.open(VILL1ST.replace(/village=[0-9]+/,"village="+koordTOid(PM1[2])).replace("screen=overview","screen=place"),AZON+"_Farmolo"),FARM_LEPES=1;break;case 1:isPageLoaded(FARM_REF,koordTOid(PM1[2]),"screen=place")?(FARM_HIBA=0,FARM_GHIBA=0,PM1=szem4_farmolo_2illeszto(PM1),FARM_LEPES="object"==typeof PM1&&PM1.length>0?PM1[1].indexOf("semmi")>0?3:2:0):FARM_HIBA++;break;case 2:isPageLoaded(FARM_REF,koordTOid(PM1[2]),"try=confirm")?(FARM_HIBA=0,FARM_GHIBA=0,PM1=szem4_farmolo_3egyeztet(PM1),FARM_LEPES="object"==typeof PM1&&PM1.length>0&&1==PM1[0]?3:0):FARM_HIBA++;break;case 3:isPageLoaded(FARM_REF,koordTOid(PM1[2]),"not try=confirm")?(FARM_HIBA=0,FARM_GHIBA=0,szem4_farmolo_4visszaell(PM1),FARM_LEPES=0):FARM_HIBA++;break;default:FARM_LEPES=0}}catch(t){debug("szem4_farmolo_motor()",t+" Lépés:"+FARM_LEPES)}var n=100/(40*Math.random()+80);e=Math.round(e*n),setTimeout("szem4_farmolo_motor()",e)}function VIJE_FarmElem(e){try{for(var t=document.getElementById("farm_hova").rows,n=!1,a=1;a<t.length;a++)if(t[a].cells[0].textContent==e){n=!0,t=t[a];break}if(!n)return[!1,!1,0];var l=!0;if(""==t.cells[1].textContent&&(l=!1),""!=t.cells[5].textContent)var r=new Date(t.cells[5].textContent);else var r=getServerTime(VIJE_REF1);return r.setMinutes(r.getMinutes()-1),[n,l,r]}catch(o){debug("VIJE1_farmelem","Hiba: "+o)}}function VIJE_elemzett(e){try{var t=document.getElementById("VIJE_elemzett").textContent;if(""==t)return!1;t=t.split(",");for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return t.length>130&&(document.getElementById("VIJE_elemzett").innerHTML=t.slice(t.length-100,t.length)),!1}catch(a){debug("VIJE1_farmelem","Hiba: "+a)}}function szem4_VIJE_1kivalaszt(){try{try{TamadUpdt(VIJE_REF1)}catch(e){}if(VT=VIJE_REF1.document.getElementById("report_list").rows,VT.length<3)return[0,0,"",!1];for(var t=!1,n=VT.length-2;n>0;n--){try{var a=VT[n].cells[1].textContent.match(/[0-9]+(\|)[0-9]+/g);a=a[a.length-1]}catch(e){continue}var l=VT[n].cells[1].getElementsByTagName("span")[0].getAttribute("data-id").replace("label_","");if(!VIJE_elemzett(l)){for(var r=VT[n].cells[1].childNodes,o=0;o<r.length;o++)if("IMG"==r[o].nodeName){r=r[o].src.split(".png")[0].split("/"),r=r[r.length-1];break}var s=VIJE_FarmElem(a);if(0!=s[0]){var i=getServerTime(VIJE_REF1),c=getServerTime(VIJE_REF1);if(!(s[2]>i)){if(function(){var e=VT[n].cells[2].textContent,t=e.match(/[0-9]+:[0-9]+/g)[0],a=e.replace(t,"").match(/[0-9]+/g)[0];i.setMinutes(parseInt(t.split(":")[1],10)),i.setHours(parseInt(t.split(":")[0],10)),i.setDate(parseInt(a,10))}(),c-i>108e5||0>c-i)var d=!0;else var d=!1;if(0==s[1]){t=!0;break}if(!d&&1==s[1]){t=!0;break}}}}}if(!t){for(var n=VT.length-2;n>0;n--)if(VT[n].cells[0].getElementsByTagName("input")[0].checked)return[0,0,"",!0];return[0,0,"",!1]}return"green"==r&&(VT[n].cells[0].getElementsByTagName("input")[0].checked=!0),[l,a,r,!1,d]}catch(e){return debug("VIJE1","Hiba: "+e),[0,0,"",!1]}}function VIJE_adatbeir(e,t,n,a,l){try{for(var r=document.getElementById("farm_hova").rows,o=1;o<r.length;o++)if(r[o].cells[0].textContent==e){r=r[o];break}return r.cells[0].setAttribute("data-age",0),""!==n&&(r.cells[1].innerHTML=n,r.cells[1].backgroundColor="#f4e4bc",""==a&&(a=0)),""!==a&&(parseInt(r.cells[2].innerHTML)>parseInt(a)&&"#f4e4bc"==r.cells[2].backgroundColor,r.cells[2].innerHTML=a),""!==t&&(r.cells[3].innerHTML=t,t>parseInt(document.getElementById("farm_opts").rows[2].cells[1].getElementsByTagName("input")[3].value,10)&&debug("VIJE_adatbeír","Sok nyers van itt, lehet hiba? "+e+" falunál")),"green"===l?r.cells[0].style.backgroundColor="#f4e4bc":"yellow"===l?r.cells[0].style.backgroundColor="yellow":"blue"===l||(r.cells[0].style.backgroundColor="red",naplo("Jelentés Elemzõ",e+" farm veszélyesnek ítélve. Jelentésének színe "+l+".")),void(""!=r.cells[5].innerHTML&&(r.cells[5].innerHTML=""))}catch(s){debug("VIJE_adatbeir","Hiba: "+s)}}function szem4_VIJE_2elemzes(e){try{var t=0;if(VIJE_REF2.document.getElementById("attack_spy_resources")){var n=VIJE_REF2.document.getElementById("attack_spy_resources").rows[0].cells[1];if(e[4]){var t="";debug("VIJE2","Nem kell elemezni (régi)")}else try{var a=n.textContent.replace(/\./g,"").match(/[0-9]+/g);if(3!=a.length)throw"LENGTH_NOT_3";if(-1===n.innerHTML.indexOf("iron"))throw"IRON_NOT_FOUND";for(var t=0,l=0;l<a.length;l++)t+=parseInt(a[l],10)}catch(r){var t=0;debug("VIJE","<a href='"+VIJE_REF2.document.location+"'>"+e[0]+"</a> ID-jû jelentés nem szokványos, talált nyers 0-ra állítva. Hiba: "+r)}if(VIJE_REF2.document.getElementById("attack_spy_buildings_left")){for(var o=document.getElementById("vije").getElementsByTagName("input"),s=new Array(o[0].value.toUpperCase(),o[1].value.toUpperCase(),o[2].value.toUpperCase(),o[3].value.toUpperCase()),i=new Array(0,0,0),c=0,o=VIJE_REF2.document.getElementById("attack_spy_buildings_left").rows,l=1;l<o.length;l++){for(var d=0;3>d;d++)o[l].cells[0].textContent.toUpperCase().indexOf(s[d])>-1&&(i[d]=o[l].cells[1].textContent);o[l].cells[0].textContent.toUpperCase().indexOf(s[3])>-1&&(c=o[l].cells[1].textContent)}for(var o=VIJE_REF2.document.getElementById("attack_spy_buildings_right").rows,l=1;l<o.length;l++){for(var d=0;3>d;d++)o[l].cells[0].textContent.toUpperCase().indexOf(s[d])>-1&&(i[d]=o[l].cells[1].textContent);o[l].cells[0].textContent.toUpperCase().indexOf(s[3])>-1&&(c=o[l].cells[1].textContent)}}else var i="",c="";VIJE_adatbeir(e[1],t,i,c,e[2])}else VIJE_adatbeir(e[1],0,"","",e[2]);return document.getElementById("VIJE_elemzett").innerHTML+=e[0]+",",document.getElementById("VIJE_elemzett").innerHTML.split(",").length>200&&(document.getElementById("VIJE_elemzett").innerHTML=document.getElementById("VIJE_elemzett").innerHTML.split(",").splice(100,100)+","),!0}catch(r){return debug("VIJE2","Elemezhetetlen jelentés: "+e[0]+":"+e[1]+". Hiba: "+r),VIJE_adatbeir(e[1],t,"","",e[2]),!1}}function szem4_VIJE_3torol(){try{if(document.getElementById("vije").getElementsByTagName("input")[4].checked)try{VIJE_REF1.document.forms[0].del.click()}catch(e){VIJE_REF1.document.getElementsByName("del")[0].click()}}catch(e){return void debug("VIJE3","Hiba: "+e)}}function szem4_VIJE_motor(){try{var e=1500;if(BOT||VIJE_PAUSE)e=5e3;else switch(VIJE_HIBA>10&&(VIJE_HIBA=0,VIJE_GHIBA++,VIJE_GHIBA>3&&(VIJE_GHIBA>5&&(naplo("Globál","Nincs internet? Folyamatos hiba a jelentés elemzõnél"),e=6e4,playSound("bot2")),VIJE_REF1.close()),VIJE_LEPES=0),VIJE2_HIBA>10&&(VIJE2_HIBA=0,VIJE2_GHIBA++,VIJE2_GHIBA>3&&(VIJE2_GHIBA>5&&naplo("Globál","Nincs internet? Folyamatos hiba a jelentés elemzõnél"),VIJE_REF2.close()),VIJE_LEPES=0),0!=VIJE_LEPES&&VIJE_REF1.closed&&(VIJE_LEPES=0),VIJE_LEPES){case 0:if(document.getElementById("farm_hova").rows.length>1){var t="";game_data.player.premium&&(t="group_id=-1&"),VIJE_REF1=window.open(VILL1ST.replace("screen=overview","mode=attack&"+t+"screen=report"),AZON+"_SZEM4VIJE_1"),VIJE_LEPES=1}else e=1e4;break;case 1:isPageLoaded(VIJE_REF1,-1,"screen=report")?(VIJE_HIBA=0,VIJE_GHIBA=0,PM2=szem4_VIJE_1kivalaszt(),0===PM2[0]?PM2[3]?VIJE_LEPES=3:(VIJE_LEPES=0,e=12e4):(VIJE_REF2=window.open(VILL1ST.replace("screen=overview","mode=attack&view="+PM2[0]+"&screen=report"),AZON+"_SZEM4VIJE_2"),VIJE_LEPES=2)):VIJE_HIBA++;break;case 2:isPageLoaded(VIJE_REF2,-1,PM2[0])?(VIJE2_HIBA=0,VIJE2_GHIBA=0,szem4_VIJE_2elemzes(PM2),VIJE_LEPES=PM2[3]?3:1):VIJE2_HIBA++;break;case 3:szem4_VIJE_3torol(),VIJE_LEPES=0;break;default:VIJE_LEPES=0}}catch(n){debug("szem4_VIJE_motor()","ERROR: "+n+" Lépés:"+VIJE_LEPES)}var a=100/(40*Math.random()+80);e=Math.round(e*a),setTimeout("szem4_VIJE_motor()",e)}function TamadUpdt(e){try{var t=document.getElementById("idtamad_Bejovok"),n=new Date,a=parseInt(e.game_data.player.incomings,10),l=0;if(t.rows.length>1&&(l=parseInt(t.rows[1].cells[1].innerHTML,10)),a==l)return;var r=t.insertRow(1),o=r.insertCell(0),s=r.insertCell(1);return o.innerHTML=n,s.innerHTML=a,void(a>l&&playSound("bejovo"))}catch(i){debug("ID beir","Hiba: "+i)}}stop(),document.getElementsByTagName("html")[0].setAttribute("class",""),"undefined"!=typeof AZON&&exit();try{var SZEM4_LOCAL_STORAGE="",AZON="S0";window.name.indexOf(AZON)>-1&&(AZON="S1");var BASE_URL=document.location.href.split("game.php")[0],CONFIG=loadXMLDoc(BASE_URL+"interface.php?func=get_config"),SPEED=parseFloat(CONFIG.getElementsByTagName("speed")[0].textContent),UNIT_S=parseFloat(CONFIG.getElementsByTagName("unit_speed")[0].textContent),VILL1ST="",ALTBOT=!0,VERZIO="4.570523";AZON=game_data.player.id+"_"+game_data.world+AZON}catch(e){alert(e)}var SUGOORA,BOTORA,ALTBOT2=!1,BOT_VOL=0,KTID=new Array,TERMELES=new Array(5,30,35,41,47,55,64,74,86,100,117,136,158,184,214,249,289,337,391,455,530,616,717,833,969,1127,1311,1525,1774,2063,2400),UNITS=new Array("spear","sword","axe","archer","spy","light","marcher","heavy"),TEHER=new Array(25,15,10,10,0,80,50,50),TANYA=new Array(1,1,1,1,2,4,5,6),E_SEB=new Array(18,22,18,18,9,10,10,11),BOT=!1;init(),ujkieg_hang("Alaphangok","naplobejegyzes;bot2"),ujkieg("farm","Farmoló",'<tr><td>  <table class="vis" id="farm_opts" style="width:100%; margin-bottom: 50px;"><tr><th>Farmoló falu hozzáadása</th><th>Farmolandó falu hozzáadása</th></tr><tr><td style="width:48%;" onmouseover="sugo(\'Adj meg koordinátákat, melyek a te faluid és farmolni szeretnél velük. A koordináták elválasztása bármivel történhet.\')">Koordináták: <input type="text" size="45" placeholder="111|111, 222|222, ..."> <input type="button" value="Hozzáad" onclick="add_farmolo()"></td><td style="width:52%;" onmouseover="sugo(\'Adj meg koordinátákat, amelyek farmok, és farmolni szeretnéd. A koordináták elválasztása bármivel történhet.\')">Koordináták:  <input type="text" size="45" placeholder="111|111, 222|222, ..."> <input type="button" value="Hozzáad" onclick="add_farmolando()"></td></tr><tr><td onmouseover="sugo(\'A felvivendõ falukból ezeket az egységeket használhatja SZEM IV farmolás céljából. Késõbb módosítható.\')" style="vertical-align:middle;">Mivel? '+rovidit("egysegek")+'</td><td>Termelés/óra: <input onkeypress="validate(event)" type="text" size="5" value="3600" onmouseover="sugo(\'Ha nincs felderített bányaszint, úgy veszi ennyi nyers termelõdik\')"> Max táv: <input type="text" size="2" value="4" onkeypress="validate(event)" onmouseover="sugo(\'A max távolság, amin túl már nem küldök támadásokat\')">óra <input onkeypress="validate(event)" type="text" size="2" value="0" onmouseover="sugo(\'A max távolság, amin túl már nem küldök támadásokat\')">perc. Határszám: <input type="text" onkeypress="validate(event)" onmouseover="sugo(\'Az új farmok ennyi nyersanyaggal lesznek felvíve. Másrész, ez alatti nyersanyagért még nem indulok el.\')" value="3600" size="5"><br>Kém/falu: <input onkeypress="validate(event)" type="text" value="1" size="2" onmouseover="sugo(\'Minden támadással ennyi kém fog menni\')"> Kényszerített?<input type="checkbox" onmouseover="sugo(\'Kémek nélkül nem indít támadást. Kémeket annak ellenére is fog vinni, ha nincs bepipálva a kém egység.\')">Kezdõ feld.?<input type="checkbox" onmouseover="sugo(\'Minden falura maximum egyszer fog menni kém.\')">&nbsp;&nbsp;Min sereg/falu: <input onkeypress="validate(event)" type="text" value="100" size="4" onmouseover="sugo(\'Ennél kevesebb fõ támadásonként nem indul. A szám tanyahely szerinti foglalásban értendõ.\')"><br>Sebesség: <input onkeypress="validate(event)" type="text" size="2" value="10" onmouseover="sugo(\'Ha a farmoló nem talál több feladatot magának megáll, ennyi idõre. Érték lehet: 1-300. Javasolt érték: 10-120 perc\')">perc/<input onkeypress="validate(event)" type="text" size="3" value="500" onmouseover="sugo(\'Egyes utasítások/lapbetöltõdések ennyi idõközönként hajtódnak végre. Érték lehet: 200-6000. Javasolt: 500ms, lassabb gépek esetén 1000-2000.\')">ms. Ha a raktár &gt;<input type="text" size="2" onmouseover="sugo(\'Figyeli a raktár telítettségét, és ha a megadott % fölé emelkedik, nem indít támadást onnan. Telítettség össznyersanyag alapján számolva. Min: 20. Ne nézze: 100-nál több érték megadása esetén.\')" value="90">%, nem foszt.</td></tr></table>  <table class="vis" id="farm_honnan" style="vertical-align:top; display: inline-block; width:550px"><tr><th width="55px" onmouseover="sugo(\'Ezen falukból farmolsz. Dupla klikk az érintett sor koordinátájára=sor törlése.<br>Rendezhetõ\')" style="cursor: pointer;" onclick=\'rendez("szoveg",false,this,"farm_honnan",0)\'>Honnan</th><th onmouseover="sugo(\'Ezen egységeket használ fel SZEM a farmoláshoz. Bármikor módosítható.\')">Mivel?</th><th onmouseover="sugo(\'Ekkor ér vissza sereg a számításaim szerint. Dupla klikk=törlés=már megérkezett/nézd újra.<br>Rendezhetõ.<br><br>Pipa: egy cellán végrehajtott (duplaklikkes) mûvelet minden látható falura érvényes lesz.\')" onclick=\'rendez("datum",false,this,"farm_honnan",2)\' style="cursor: pointer; vertical-align:middle;">Return <span style="margin-left: 45px; margin-right: 0px;"><img src="'+pic("search.png")+'" alt="?" title="Szûrés falukra..." style="width:15px;height:15px;" onclick="szem4_farmolo_csoport(\'honnan\')"><input type="checkbox" id="farm_multi_honnan" onmouseover="sugo(\'Ha bepipálod, akkor egy cellán végzett dupla klikkes mûvelet minden sorra érvényes lesz az adott oszlopba (tehát minden falura), ami jelenleg látszik. Légy óvatos!\')"></span></th></tr></table> <table class="vis" id="farm_hova" style="vertical-align:top; display: inline-block;"><tr><th onmouseover="sugo(\'Ezen falukat farmolod. A háttérszín jelöli a jelentés színét: alapértelmezett=zöld jelik/nincs felderítve. Sárga=veszteség volt a falun. Piros: a támadás besült, nem megy rá több támadás.<br>Dupla klikk a koordira: a háttérszín alapértelmezettre állítása.<br>Rendezhetõ\')" style="cursor: pointer;" onclick=\'rendez("szoveg",false,this,"farm_hova",0)\'>Hova</th><th onmouseover="sugo(\'Felderített bányaszintek, ha van. Kék háttér: megy rá kémtámadás.<br>Dupla klikk=az érintett sor törlése\')">Bányák</th><th onmouseover="sugo(\'Fal szintje. Dupla klikk=háttér csere (csak megjelölésként). <br>Rendezhetõ.\')" onclick=\'rendez("szam",false,this,"farm_hova",2)\' style="cursor: pointer;">Fal</th><th onmouseover="sugo(\'Számítások szerint ennyi nyers van az érintett faluba. Dupla klikk=érték módosítása.<br>Rendezhetõ.\')" onclick=\'rendez("szam",false,this,"farm_hova",3)\' style="cursor: pointer;">Nyers</th><th onmouseover="sugo(\'Játékos e? Ha játékost szeretnél támadni, pipáld be a falut mint játékos uralta, így támadni fogja. Ellenben piros hátteret kap a falu.\')">J?</th><th onmouseover="sugo(\'A falura ekkor ér be az utolsó nagyerejû támadás. Információ a jelentés elemzõnek. Dupla klikk=idõ törlése.<br>Rendezhetõ.<br><br>Pipa: egy cellán végrehajtott (duplaklikkes) mûvelet minden látható falura érvényes lesz.\')" onclick=\'rendez("datum",false,this,"farm_hova",5)\' style="cursor: pointer; vertical-align:middle;">Ut.T<span style="margin-left: 65px; margin-right: 0px;"><img src="'+pic("search.png")+'" alt="?" title="Szûrés falukra..." style="width:15px;height:15px;" onclick="szem4_farmolo_csoport(\'hova\')"><input type="checkbox" id="farm_multi_hova"></span></th></tr></table></p> </td></tr>'),szem4_farmolo_updater();var FARM_LEPES=0,FARM_REF,FARM_HIBA=0,FARM_GHIBA=0,PM1,FARM_PAUSE=!1;szem4_farmolo_motor(),ujkieg("vije","Jelentés Elemzõ",'<tr><td>A VIJE a Farmoló táblázatába dolgozik, itt csupán mûködési beállításokat módosíthatsz.<br><br><br>"Fatelep" a szerver jelenlegi nyelvén: <input type="text" size="15"  value="Fatelep"><br>"Agyagbánya" a szerver jelenlegi nyelvén: <input type="text" size="15"  value="Agyagbánya"><br>"Vasbánya" a szerver jelenlegi nyelvén: <input type="text" size="15" value="Vasbánya"><br>"Fal" a szerver jelenlegi nyelvén: <input type="text" size="15" value="Fal"><br><input type="checkbox"> Zöld farmjelentések törlése<br><br><br><i>Elemzett jelentések:</i><div id="VIJE_elemzett" style="font-size:30%;width:980px;word-wrap: break-word;"></div></td></tr>');var VIJE_PAUSE=!1,VIJE_LEPES=0,VIJE_REF1,VIJE_REF2,VIJE_HIBA=0,VIJE_GHIBA=0,VIJE2_HIBA=0,VIJE2_GHIBA=0,PM2;szem4_VIJE_motor(),ujkieg_hang("Bejövõ támadások","bejovo"),ujkieg("idtamad","Bejövõ támadások",'<tr><td align="center" ><table class="vis" id="idtamad_Bejovok" style="vertical-align:top; display: inline-block;"><tr><th>Idõpont</th><th>Támadások száma</th></tr></table> </td></tr>'),$(document).ready(function(){nyit("naplo"),naplo("Indulás","SZEM4 Elindult. Hangteszt..."),soundVolume(.2),playSound("bot2"),setTimeout(function(){naplo("Indulás","Hangteszt vége. Ha nem hallotta a sípszót, vélhetõleg nem elérhetõ a cnc weboldal - használja az alternatív botriadót!"),soundVolume(1)},3e3),setTimeout("vercheck()",5e3),$(function(){$("#alert2").draggable({handle:$("#alert2head")}),$("#sugo").mouseover(function(){sugo("Ez itt a súgó")}),$("#fejresz").mouseover(function(){sugo("")})}),$("#farm_opts input").on("keydown keypress",function(){setTimeout("shorttest()",20)})});void(0);